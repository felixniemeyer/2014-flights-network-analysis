DROP TABLE IF EXISTS routes; 
DROP TABLE IF EXISTS airlines; 
DROP TABLE IF EXISTS airports; 

DROP TABLE IF EXISTS runways; 

CREATE TABLE routes(
	"airline"  TEXT,
	"airline_id"  TEXT,
	"source_airport" TEXT,
	"source_airport_id" TEXT,
	"destination_airport" TEXT,
	"destination_airport_id" TEXT,
	"codeshare" TEXT,
	"stops" TEXT,
	"equipment" TEXT
);

.mode csv routes
.import data/routes.dat routes

CREATE TABLE airports (
	"airport_id" TEXT PRIMARY KEY,
	"name" TEXT,
	"city" TEXT,
	"country" TEXT,
	"iata" TEXT,
	"icao" TEXT,
	"latitude" TEXT,
	"longitude" TEXT,
	"altitude" TEXT,
	"timezone" TEXT,
	"dst" TEXT,
	"tz_database_time_zone" TEXT,
	"type" TEXT,
	"source" TEXT
);

.mode csv airports
.import data/airports.dat airports

CREATE TABLE airlines ( 
	"airline_id" TEXT PRIMARY KEY,
	"name" TEXT,
	"alias" TEXT,
	"iata" TEXT,
	"icao" TEXT,
	"callsign" TEXT,
	"country" TEXT,
	"active" TEXT
);

.mode csv airlines
.import data/airlines.dat airlines

CREATE TABLE runways (
	"runway_id" TEXT PRIMARY KEY, 
	"airport_ref" TEXT,
	"airport_ident" TEXT,
	"length_ft" TEXT,
	"width_ft" TEXT,
	"surface" TEXT,
	"lighted" TEXT,
	"closed" TEXT,
	"le_ident" TEXT,
	"le_latitude_deg" TEXT,
	"le_longitude_deg" TEXT,
	"le_elevation_ft" TEXT,
	"le_heading_degT" TEXT,
	"le_displaced_threshold_ft" TEXT,
	"he_ident" TEXT,
	"he_latitude_deg" TEXT,
	"he_longitude_deg" TEXT,
	"he_elevation_ft" TEXT,
	"he_heading_degT" TEXT,
	"he_displaced_threshold_ft" TEXT
); 

.mode csv runways
.import data/ourairports.com/runways.csv runways 
DELETE FROM runways WHERE runway_id = 'id';

ALTER TABLE airports ADD COLUMN runway_surface REAL; 


